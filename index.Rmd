---
title: "Liste de problèmes sur **R** et **Rmd**"
author: "par DU Qiming"
date: "17 novembre 2017"
output:
  html_document:
    fig_caption: yes
---


# I. Remarques sur les TP


## Importation des packages

On a 2 méthodes pour importer les packages :

```{r echo=TRUE, eval=FALSE}
library(nom de package)
require(nom de package)
```

La différence est que **require = try + library**. C'est-à-dire, **require** a une sortie de type _logical_.  


```{r echo=TRUE, message=FALSE, warning=FALSE, results=FALSE}
print(require(pacakge_n_existe_pas))
```

Alors, on conclut qu'on utilise _toujours_ **library** pour importer un package qu'on sait qu'il existe.
On n'utilise **require** que dans le cas :

```{r echo=TRUE, eval=FALSE}
if(!require(package))  install.packages('package')
```


Si on ne veut utilise qu'une ou deux fonctions ou variables dans un package, 
il faut eviter (si possible) l'utilisation de **library**. En revanch, on peut directement 
écrire

```{r echo=TRUE, eval=FALSE}
package::fonction()
package::variable
```

qui resemble beaucoup à 

```{r echo=TRUE, eval=FALSE}
data.frame$nom_de_colone
```


## _Indexing_ par []

Il y a 3 types de _index_ par [] dans **R** : _int, logical, char_

* _int_ : les positions
* _logical_ : les conditions
* _char_ : les noms (par ex. les noms de colone dans un _dataframe_)

## II. Programmation avec **R Notebook** et **Rmarkdown**

[**R Notebook**](http://rmarkdown.rstudio.com/r_notebooks.html) est un éditeur de **.Rmd** dans **Rstudio**.

### Stucture de **.Rmd**

* metadata(configuration)
* texte
* bloc de codes
* texte
* bloc de codes
...

### Les types de blocs

#### calculs, importations des données, les autres manipulations sans sortie

```{r, comment = "", echo=FALSE}
"{r include=FALSE}
seq(1, 10)
" -> my_code_string
cat("```", my_code_string, "```", sep = "")
```

#### les plots

sans tempalte
```{r, comment = "", echo=FALSE}
"{r echo=FALSE}
plot(rnorm(1000))
" -> my_code_string
cat("```", my_code_string, "```", sep = "")
```

avec tempalte
```{r, comment = "", echo=FALSE}
"{r echo=FALSE, fig.cap=fig$cap('label','description')}
plot(rnorm(1000))
" -> my_code_string
cat("```", my_code_string, "```", sep = "")
```

#### fonction avec **resultat(print)**
```{r, comment = "", echo=FALSE}
"{r echo=FALSE}
df <- read.table(...)
summary(data.frame(df))
" -> my_code_string
cat("```", my_code_string, "```", sep = "")
```
